import{r as c,u as A,o as S,a as f,c as p,b as a,d as o,w as r,F as k,H as $,e,f as D,h as _,y as V,g,t as h,v as E,T as N,i as B}from"./app-662d399e.js";import{e as v,D as U}from"./jquery.dataTables-7e31799d.js";import{_ as q}from"./AuthenticatedLayout-53d2e217.js";import{_ as b,b as x,a as C}from"./TextInput-61d2c70a.js";import{_ as F}from"./PrimaryButton-5206cda8.js";import{_ as M}from"./DangerButton-2638f7e7.js";import"./ApplicationLogo-7c7e6363.js";import"./_plugin-vue_export-helper-c27b6911.js";const H=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Testimonials",-1),O={class:"py-12"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},I={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},L=e("div",null,[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Add Testimonial")],-1),z=["onSubmit"],G={class:"flex items-center gap-4"},J={key:0,class:"text-sm text-gray-600"},K={class:"py-12 pt-4"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},Q={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},R=e("thead",null,[e("tr",null,[e("th",null,"Testimonial"),e("th",null,"Author"),e("th",null,"Created At"),e("th",null,"Actions")])],-1),ot={__name:"Testimonials",props:{testimonials:Array},setup(u){const y=u;v.use(U);const n=c(!1),l=c(null),t=A({testimonial:"",author:""}),w=()=>{t.clearErrors(),(!t.testimonial||t.testimonial.trim()==="")&&t.setError("testimonial","testimonial field is required"),(!t.author||t.author.trim()==="")&&t.setError("author","author field is required"),!(t.errors&&Object.keys(t.errors).length)&&(t.processing=!0,n.value?t.put(`/admin/testimonials/${l.value.id}`,{onSuccess:()=>{n.value=!1,t.processing=!1,t.reset()}}):t.post("/admin/testimonials",{onSuccess:()=>{t.reset(),t.processing=!1}}))};return S(()=>{document.getElementById("dt").addEventListener("click",function(d){if(d.target.nodeName!=="BUTTON")return;const i=d.target,s=i.getAttribute("data-type"),m=i.getAttribute("data-id");s==="del"?confirm("Are you sure you want to delete this testimonials?")&&(i.setAttribute("disabled",!0),i.innerText="Deleting",t.delete("/admin/testimonials/"+m)):s==="edit"&&(l.value=y.testimonials.filter(({id:T})=>m==T)[0],t.name=l.value.name,t.author=l.value.author,n.value=!0)})}),(d,i)=>(f(),p(k,null,[a(o($),{title:"Testimonials"}),a(q,null,{header:r(()=>[H]),default:r(()=>[e("div",O,[e("div",j,[e("div",I,[L,e("form",{onSubmit:D(w,["prevent"]),class:"mt-6 space-y-6"},[e("div",null,[a(b,{for:"testimonial",value:"Testimonial"}),_(e("textarea",{class:"form-control mt-1 block w-full","onUpdate:modelValue":i[0]||(i[0]=s=>o(t).testimonial=s),required:"",autofocus:"",autocomplete:"testimonial"},null,512),[[V,o(t).testimonial]]),a(x,{class:"mt-2",message:o(t).errors.testimonial},null,8,["message"])]),e("div",null,[a(b,{for:"author",value:"Author"}),a(C,{id:"author",type:"text",class:"mt-1 block w-full",modelValue:o(t).author,"onUpdate:modelValue":i[1]||(i[1]=s=>o(t).author=s),required:"",autofocus:"",autocomplete:"author"},null,8,["modelValue"]),a(x,{class:"mt-2",message:o(t).errors.author},null,8,["message"])]),e("div",G,[a(F,{disabled:o(t).processing},{default:r(()=>[g(h(n.value?"Update":"Save"),1)]),_:1},8,["disabled"]),_(a(M,null,{default:r(()=>[g("Cancel")]),_:1},512),[[E,n.value]]),a(N,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:r(()=>[o(t).recentlySuccessful?(f(),p("p",J,h(n.value?"Updated":"Saved"),1)):B("",!0)]),_:1})])],40,z)])])]),e("div",K,[e("div",P,[e("div",Q,[a(o(v),{id:"dt",options:{responsive:!0},data:u.testimonials,columns:[{data:"testimonial"},{data:"author"},{data:"created_at",render:s=>new Date(s).toDateString()},{data:null,render:s=>`<button data-type=edit data-id=${s.id} class='inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 mr-3'>Edit</button> <button data-type=del data-id=${s.id} class='inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150'>Delete</button>`}],class:"display table table-responsive"},{default:r(()=>[R]),_:1},8,["data","columns"])])])])]),_:1})],64))}};export{ot as default};
