import{u as v,x as k,a as d,c as n,b as s,d as t,w as u,F as c,H as x,e as r,f as p,h as g,y as h,z as b,A as V,t as w,g as N,T as q,i as E}from"./app-20790434.js";import{_ as C}from"./AuthenticatedLayout-0fa5c195.js";import{_ as i,a as m,b as l}from"./TextInput-f3db16a9.js";import{_ as S}from"./PrimaryButton-de06bf15.js";import{C as T}from"./ckeditor-9d8a003b.js";import"./ApplicationLogo-d890edcc.js";import"./_plugin-vue_export-helper-c27b6911.js";const P=r("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Create Tour Package",-1),U={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},D={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},F=["onSubmit"],I=r("option",{value:""},"Select Category",-1),B=["value"],M={class:"flex items-center gap-4"},A={key:0,class:"text-sm text-gray-600"},Q={__name:"NewPackage",props:{categories:Array},setup(f){const e=v({title:"",description:"",package_post:"",feature_image:null,category_id:"",days:1,nights:0}),_=()=>{e.clearErrors(),(!e.title||e.title.trim()==="")&&e.setError("title","title field is required"),(!e.description||e.description.trim()==="")&&e.setError("description","description field is required"),(!e.package_post||e.package_post.trim()==="")&&e.setError("post","post field is required"),e.feature_image||e.setError("feature_image","feature_image field is required"),(!e.category_id||parseInt(e.category_id)===NaN)&&e.setError("category_id","category field is required"),parseInt(e.days)===NaN&&e.setError("days","days field is required and should be a number"),parseInt(e.nights)===NaN&&e.setError("nights","nights field is required and should be a number"),!(e.errors&&Object.keys(e.errors).length)&&(e.processing=!0,e.post("/admin/packages",{onSuccess:()=>{e.reset(),e.processing=!1}}))};return(H,o)=>{const y=k("ckeditor");return d(),n(c,null,[s(t(x),{title:"Tour Packages"}),s(C,null,{header:u(()=>[P]),default:u(()=>[r("div",U,[r("div",$,[r("div",D,[r("form",{onSubmit:p(_,["prevent"]),class:"mt-6 space-y-6"},[r("div",null,[s(i,{for:"title",value:"Title"}),s(m,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:t(e).title,"onUpdate:modelValue":o[0]||(o[0]=a=>t(e).title=a),required:"",autofocus:"",autocomplete:"title"},null,8,["modelValue"]),s(l,{class:"mt-2",message:t(e).errors.title},null,8,["message"])]),r("div",null,[s(i,{for:"description",value:"Description"}),g(r("textarea",{id:"description",type:"text",class:"mt-1 block w-full","onUpdate:modelValue":o[1]||(o[1]=a=>t(e).description=a),required:"",autofocus:"",autocomplete:"description"},null,512),[[h,t(e).description]]),s(l,{class:"mt-2",message:t(e).errors.description},null,8,["message"])]),r("div",null,[s(i,{for:"post",value:"Post"}),s(y,{editor:t(T),modelValue:t(e).package_post,"onUpdate:modelValue":o[2]||(o[2]=a=>t(e).package_post=a)},null,8,["editor","modelValue"]),s(l,{class:"mt-2",message:t(e).errors.post},null,8,["message"])]),r("div",null,[s(i,{for:"days",value:"Days"}),s(m,{id:"title",type:"number",class:"mt-1 block w-full",modelValue:t(e).days,"onUpdate:modelValue":o[3]||(o[3]=a=>t(e).days=a),required:"",autofocus:"",autocomplete:"days"},null,8,["modelValue"]),s(l,{class:"mt-2",message:t(e).errors.days},null,8,["message"])]),r("div",null,[s(i,{for:"nights",value:"Nights"}),s(m,{id:"title",type:"number",class:"mt-1 block w-full",modelValue:t(e).nights,"onUpdate:modelValue":o[4]||(o[4]=a=>t(e).nights=a),required:"",autofocus:"",autocomplete:"nights"},null,8,["modelValue"]),s(l,{class:"mt-2",message:t(e).errors.nights},null,8,["message"])]),r("div",null,[s(i,{for:"category",value:"Category"}),g(r("select",{"onUpdate:modelValue":o[5]||(o[5]=a=>t(e).category_id=a),id:""},[I,(d(!0),n(c,null,V(f.categories,a=>(d(),n("option",{key:a.id,value:a.id},w(a.name),9,B))),128))],512),[[b,t(e).category_id]]),s(l,{class:"mt-2",message:t(e).errors.category_id},null,8,["message"])]),r("div",null,[s(i,{for:"feature image",value:"Feature Image"}),r("input",{type:"file",onChange:o[6]||(o[6]=p(a=>t(e).feature_image=a.target.files.length?a.target.files[0]:null,["prevent"]))},null,32),s(l,{class:"mt-2",message:t(e).errors.feature_image},null,8,["message"])]),r("div",M,[s(S,{disabled:t(e).processing},{default:u(()=>[N("Save")]),_:1},8,["disabled"]),s(q,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:u(()=>[t(e).recentlySuccessful?(d(),n("p",A,"Saved")):E("",!0)]),_:1})])],40,F)])])])]),_:1})],64)}}};export{Q as default};
