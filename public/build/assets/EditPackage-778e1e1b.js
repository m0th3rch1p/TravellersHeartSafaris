import{u as h,x,a as n,c as u,b as s,d as t,w as c,F as f,H as b,e as o,f as _,h as y,y as V,z as w,A as E,t as N,g as q,T as C,i as S}from"./app-18d57753.js";import{_ as T}from"./AuthenticatedLayout-fc247616.js";import{_ as l,a as m,b as d}from"./TextInput-78582f71.js";import{_ as U}from"./PrimaryButton-e2863819.js";import{C as P}from"./ckeditor-cc23b4cf.js";import"./ApplicationLogo-28062bb4.js";import"./_plugin-vue_export-helper-c27b6911.js";const $=o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Create Tour Package",-1),D={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},I={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},B=["onSubmit"],M=o("option",{value:""},"Select Category",-1),j=["value"],A={class:"flex items-center gap-4"},H={key:0,class:"text-sm text-gray-600"},R={__name:"EditPackage",props:{package:Object,categories:Array},setup(p){const i=p,e=h({title:i.package.title,description:i.package.description,package_post:i.package.post,feature_image:null,category_id:i.package.category_id,days:i.package.days,nights:i.package.nights}),v=()=>{e.clearErrors(),(!e.title||e.title.trim()==="")&&e.setError("title","title field is required"),(!e.description||e.description.trim()==="")&&e.setError("description","description field is required"),(!e.package_post||e.package_post.trim()==="")&&e.setError("post","post field is required"),(!e.category_id||parseInt(e.category_id)===NaN)&&e.setError("category_id","category field is required"),parseInt(e.days)===NaN&&e.setError("days","days field is required and should be a number"),parseInt(e.nights)===NaN&&e.setError("nights","nights field is required and should be a number"),!(e.errors&&Object.keys(e.errors).length)&&(e.processing=!0,e.transform(g=>({...g,_method:"PUT"})).post(`/admin/packages/${i.package.id}`,{onSuccess:()=>{e.reset(),e.processing=!1}}))};return(g,r)=>{const k=x("ckeditor");return n(),u(f,null,[s(t(b),{title:"Categories"}),s(T,null,{header:c(()=>[$]),default:c(()=>[o("div",D,[o("div",F,[o("div",I,[o("form",{onSubmit:_(v,["prevent"]),class:"mt-6 space-y-6"},[o("div",null,[s(l,{for:"title",value:"Title"}),s(m,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:t(e).title,"onUpdate:modelValue":r[0]||(r[0]=a=>t(e).title=a),required:"",autofocus:"",autocomplete:"title"},null,8,["modelValue"]),s(d,{class:"mt-2",message:t(e).errors.title},null,8,["message"])]),o("div",null,[s(l,{for:"description",value:"Description"}),y(o("textarea",{id:"description",type:"text",class:"mt-1 block w-full","onUpdate:modelValue":r[1]||(r[1]=a=>t(e).description=a),required:"",autofocus:"",autocomplete:"description"},null,512),[[V,t(e).description]]),s(d,{class:"mt-2",message:t(e).errors.description},null,8,["message"])]),o("div",null,[s(l,{for:"post",value:"Post"}),s(k,{editor:t(P),modelValue:t(e).package_post,"onUpdate:modelValue":r[2]||(r[2]=a=>t(e).package_post=a)},null,8,["editor","modelValue"]),s(d,{class:"mt-2",message:t(e).errors.post},null,8,["message"])]),o("div",null,[s(l,{for:"days",value:"Days"}),s(m,{id:"title",type:"number",class:"mt-1 block w-full",modelValue:t(e).days,"onUpdate:modelValue":r[3]||(r[3]=a=>t(e).days=a),required:"",autofocus:"",autocomplete:"days"},null,8,["modelValue"]),s(d,{class:"mt-2",message:t(e).errors.days},null,8,["message"])]),o("div",null,[s(l,{for:"nights",value:"Nights"}),s(m,{id:"title",type:"number",class:"mt-1 block w-full",modelValue:t(e).nights,"onUpdate:modelValue":r[4]||(r[4]=a=>t(e).nights=a),required:"",autofocus:"",autocomplete:"nights"},null,8,["modelValue"]),s(d,{class:"mt-2",message:t(e).errors.nights},null,8,["message"])]),o("div",null,[s(l,{for:"category",value:"Category"}),y(o("select",{"onUpdate:modelValue":r[5]||(r[5]=a=>t(e).category_id=a),id:""},[M,(n(!0),u(f,null,E(p.categories,a=>(n(),u("option",{key:a.id,value:a.id},N(a.name),9,j))),128))],512),[[w,t(e).category_id]]),s(d,{class:"mt-2",message:t(e).errors.category_id},null,8,["message"])]),o("div",null,[s(l,{for:"feature image",value:"Feature Image"}),o("input",{type:"file",onChange:r[6]||(r[6]=_(a=>t(e).feature_image=a.target.files.length?a.target.files[0]:null,["prevent"]))},null,32),s(d,{class:"mt-2",message:t(e).errors.feature_image},null,8,["message"])]),o("div",A,[s(U,{disabled:t(e).processing},{default:c(()=>[q("Save")]),_:1},8,["disabled"]),s(C,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:c(()=>[t(e).recentlySuccessful?(n(),u("p",H,"Saved")):S("",!0)]),_:1})])],40,B)])])])]),_:1})],64)}}};export{R as default};
